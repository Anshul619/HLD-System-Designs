# SQL vs NoSQL

| Basis                           | SQL                                                                                                                                                                                                                                                                                                  | [NoSQL](NoSQL-Databases)                                                                                                                                                                                                                                                                                                                 |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Data Type                       | Normalized, Structured Data, Referential integrity                                                                                                                                                                                                                                                   | Denormalized, Semi-structured, Unstructured data                                                                                                                                                                                                                                                                                         |
| Schema                          | :hammer: Fixed Schema (`schema-on-write`)                                                                                                                                                                                                                                                            | Dynamic Schema (`schema-on-read`)                                                                                                                                                                                                                                                                                                        |
| Write Performance               | Okay<br/>- Every write is not just an append to a table but also an update to multiple index which might require locking and hence might interfere with other reads and other writes.                                                                                                                | :muscle: Very Good<br/>- Writes are cheaper due to [append-only nature](DataStructuresDB/AppendOnlyProperty.md)<br/>- Hence writes have [High-Throughput, Low-Latency](../7_SystemGlossaries/Scalability/LatencyThroughput.md)                                                                                                           |
| Querying                        | :muscle: Very Powerful                                                                                                                                                                                                                                                                               | Okay<br/>- Joins are not supported in NoSQL dbs.                                                                                                                                                                                                                                                                                         |
| Ideal Use Cases                 | SQL is best suitable for complex queries, multi-row transactions, joins etc. <br/>- Data is structured (like e-commerce, :moneybag: financial applications, traditional applications, ERP, CRM  etc.) and also when data reporting is needed.<br/>- OLTP business systems or OLAP.                   | NoSQL is best suited for unstructured data or documents (or large volume of data). <br/>- Not ideal for complex queries.<br/>- UCs like Gaming, Analytics, Online Tests, OLTP web/mobile apps etc.                                                                                                                                       |
| Scalability                     | [Vertically Scalable](Glossaries/ScalabilityDB.md) (increase memory, CPU of machine) or <br/>- [Single-Leader-Multi-Read-Replicas technique](Glossaries/Consistency&Replication/SingleLeaderReplication.md) (1 write DB, multiple read DBs) or <br/>- Manual Sharding based on a business parameter. | [Horizontally Scalable](Glossaries/ScalabilityDB.md) (through in-built data sharding technique)                                                                                                                                                                                                                                          |
| Properties                      | [SQL enables ACID (atomicity, consistency, isolation, and durability)](Glossaries/ACIDTransactions/Readme.md) transaction properties.                                                                                                                                                                | [NoSQL follows CAP (consistency, availability, partition tolerance)](Glossaries/PACELCTheorem/CAPTheorem.md) properties of the distributed systems.                                                                                                                                                                                      |
| Consistency Pattern             | [Strongly or Semi-Sync Consistent](Glossaries/Consistency&Replication/Readme.md)                                                                                                                                                                                                                     | Eventually Consistent<br/>- Non-relational databases can be deployed on massively distributed commodity servers. <br/>- These databases have an advantage in scaling and can handle much larger data sets than relational databases. <br/>- The massive distribution and scale does come at a cost, in the form of eventual consistency. |
| Best Features                   | Secure, Cross Platform Support, Free                                                                                                                                                                                                                                                                 | High Performance, Flexible, Easy to use.                                                                                                                                                                                                                                                                                                 |
| Built-in Single Machine Failure | :x: Not-Supported                                                                                                                                                                                                                                                                                    | :white_check_mark: Supported                                                                                                                                                                                                                                                                                                             |
| Optimization                    | Optimized for storage                                                                                                                                                                                                                                                                                | Optimized for compute                                                                                                                                                                                                                                                                                                                    |

# References
- :star: [AWS re:Invent 2021 - Which NoSQL database is right for you?](https://www.youtube.com/watch?v=ivBaro-8PhI)
- :star: [Database Design Tips | Choosing the Best Database in a System Design Interview](https://www.youtube.com/watch?v=cODCpXtPHbQ)
- [AWS re:Invent 2022 - From RDBMS to NoSQL (PRT314)](https://www.youtube.com/watch?v=eEENrNKxCdw)
- [Should Your DynamoDB Table Be Normalized or Denormalized?](https://aws.amazon.com/blogs/database/should-your-dynamodb-table-be-normalized-or-denormalized/)