# SQL vs NoSQL

| Basis                           | [SQL](../7_SQL-Databases/Readme.md)                                                                                                                                                                                                                                                      | [NoSQL](../NoSQL-Databases)                                                                                                                                                                        |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Data Type                       | Normalized, Structured Data, Referential integrity                                                                                                                                                                                                                                       | Denormalized, Semi-structured, Unstructured data                                                                                                                                                   |
| Schema                          | :hammer: Fixed Schema (schema-on-write)                                                                                                                                                                                                                                                  | Dynamic Schema (schema-on-read)                                                                                                                                                                    |
| Write Performance               | Okay<br/>- Every write is not just an append to a table but also an update to multiple index which might require locking and hence might interfere with other reads and other writes.                                                                                                    | :rocket: Very Good<br/>- Writes are cheaper due to [append-only nature](../5_DataStructuresUsedInDB/AppendOnlyProperty.md)                                                                         |
| Scalability                     | - [Vertically Scalable](../ScalabilityDB.md) (increase memory, CPU of machine) or <br/>- [Single-Leader-Multi-Read-Replicas technique](../4_Consistency&Replication/SingleLeaderReplication.md) (1 write DB, multiple read DBs) or <br/>- Manual Sharding based on a business parameter. | :rocket: [Horizontally Scalable](../ScalabilityDB.md) (through in-built data sharding technique)                                                                                                   |
| Built-in Sharding Support       | :x: Not-Supported                                                                                                                                                                                                                                                                        | :white_check_mark: Supported                                                                                                                                                                       |
| Querying                        | :muscle: Very Powerful                                                                                                                                                                                                                                                                   | Okay<br/>- Joins are not supported in NoSQL dbs.                                                                                                                                                   |
| Data Modeling                   | Normalized                                                                                                                                                                                                                                                                               | Denormalized                                                                                                                                                                                       |
| Ideal Use Cases                 | SQL is best suitable for complex queries, multi-row transactions, joins etc. <br/>- Data is structured (like e-commerce, :moneybag: financial applications, traditional applications, ERP, CRM  etc.) and also when data reporting is needed.<br/>- OLTP business systems or OLAP.       | NoSQL is best suited for unstructured data or documents (or large volume of data). <br/>- Not ideal for complex queries.<br/>- UCs like Gaming, Analytics, Online Tests, OLTP web/mobile apps etc. |
| Properties                      | SQL enables [ACID (atomicity, consistency, isolation, and durability)](../1_ACIDTransactions/Readme.md) transaction properties.                                                                                                                                                          | NoSQL follows [CAP (consistency, availability, partition tolerance)](../2_CAP&PACELCTheorems/CAPTheorem.md) properties of the distributed systems.                                                 |
| Consistency Pattern             | [Strongly or Semi-Sync Consistent](../4_Consistency&Replication/Readme.md)                                                                                                                                                                                                               | [Eventually Consistent](../4_Consistency&Replication/Readme.md)                                                                                                                                    |
| Built-in Single Machine Failure | :x: Not-Supported                                                                                                                                                                                                                                                                        | :white_check_mark: Supported                                                                                                                                                                       |
| Optimization                    | Optimized for storage                                                                                                                                                                                                                                                                    | Optimized for compute                                                                                                                                                                              |
| Best Features                   | Secure, Cross Platform Support, Free                                                                                                                                                                                                                                                     | High Performance, Flexible, Easy to use                                                                                                                                                            |
| Powering Data Structure         | [B-Tree](../5_DataStructuresUsedInDB/Indexing/BTree.md)                                                                                                                                                                                                                                  | [LSM-Tree](../5_DataStructuresUsedInDB/LSMTree.md)                                                                                                                                                 |

# References
- :star: [AWS re:Invent 2021 - Which NoSQL database is right for you?](https://www.youtube.com/watch?v=ivBaro-8PhI)
- :star: [Database Design Tips | Choosing the Best Database in a System Design Interview](https://www.youtube.com/watch?v=cODCpXtPHbQ)
- [AWS re:Invent 2022 - From RDBMS to NoSQL (PRT314)](https://www.youtube.com/watch?v=eEENrNKxCdw)
- [Should Your DynamoDB Table Be Normalized or Denormalized?](https://aws.amazon.com/blogs/database/should-your-dynamodb-table-be-normalized-or-denormalized/)