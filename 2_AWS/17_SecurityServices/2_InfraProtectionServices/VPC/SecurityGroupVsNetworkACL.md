# Security Group vs Network ACL

| Feature          | [Security Group](SecurityGroup.md)                                                                                                                                                                                                                                                                                                 | [Network ACL](NetworkACL.md)                                                                                                                                                                                                                                 |
|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Stateliness      | [Stateful](https://en.wiktionary.org/wiki/stateful)<br/>- If an inbound traffic is allowed in, the outbound response to that traffic is allowed out automatically.                                                                                                                                                                 | [Stateless](https://en.wiktionary.org/wiki/stateless#English)<br/>- Means that [responses to allowed inbound traffic are subject to the rules for outbound traffic (and vice versa)](https://repost.aws/knowledge-center/resolve-connection-sg-acl-inbound). |
| Resources        | Operates at Instance Level ([EC2](../../../2_ComputeServices/AmazonEC2/Readme.md), [RDS instances](../../../1_DatabaseServices/AmazonRDS/Readme.md), [ELB](../../../16_NetworkingAndContentDelivery/2_ApplicationNetworking/ElasticLoadBalancer/Readme.md), [EFS](../../../6_StorageServices/2_FileStorageTypes/AmazonEFS.md) etc.) | Operates at [Subnet level](../../../16_NetworkingAndContentDelivery/3_NetworkFoundationsVPC/Subnets.md)                                                                                                                                                       |
| Default behavior | By default, [all inbound traffic is denied](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/default-custom-security-groups.html) and all outbound traffic is allowed.                                                                                                                                                          | By default, Network ACLs allow all inbound and outbound traffic.                                                                                                                                                                                             |
| Rule Types       | ALLOW only (& Implicit Deny)                                                                                                                                                                                                                                                                                                       | Both ALLOW and DENY                                                                                                                                                                                                                                          |
| Traffic Types    | Both Inbound & Outbound.                                                                                                                                                                                                                                                                                                           | Both Inbound & Outbound.                                                                                                                                                                                                                                     |
| Pricing          | Free                                                                                                                                                                                                                                                                                                                               | Free                                                                                                                                                                                                                                                         |
| Use Case         | Allow or deny traffic that a NACL allows in.                                                                                                                                                                                                                                                                                       | Allow or Deny traffic before it reaches a Security Group.                                                                                                                                                                                                    |

# References
- [Compare security groups and network ACLs](https://docs.aws.amazon.com/vpc/latest/userguide/infrastructure-security.html#VPC_Security_Comparison)
- [Cloud Network Security 101: AWS Security Groups vs NACLs](https://www.fugue.co/blog/cloud-network-security-101-aws-security-groups-vs-nacls)
- [Amazon VPC NACL not permitting access on ports 80 and 443](https://stackoverflow.com/questions/45700992/amazon-vpc-nacl-not-permitting-access-on-ports-80-and-443)