# VPC Endpoints
- A [VPC endpoint](https://docs.aws.amazon.com/whitepapers/latest/aws-privatelink/what-are-vpc-endpoints.html) enables you to privately connect your VPC to supported AWS services and VPC endpoint services powered by [AWS PrivateLink](AWSPrivateLinkTechnology.md) without requiring an [internet gateway](../../InternetGateway.md), [NAT device](../NATDevices), [VPN connection](../../../4_HybridConnectivity/AWSSiteToSiteVPN.md), or [AWS Direct Connect](../../../4_HybridConnectivity/AWSDirectConnect.md) connection.
- Endpoints are virtual devices that are horizontally scaled, redundant, and highly available VPC components. 
- They allow communication between instances in your VPC and AWS services without imposing availability risks or bandwidth constraints on your network traffic.
- [VPC endpoints]() enable you to reduce data transfer charges resulting from network communication between private VPC resources (such as [EC2â€”instances](../../../../3_ComputeServices/AmazonEC2/Readme.md)) and AWS Services.

![img.png](../../assets/AWS_VPC.png)

# Use Cases

| Use Case                                                                                                                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Microservice Architecture                                                                                                   | [Interface Endpoints (Private links)](InterfaceVsGatewayEndPoints.md) are a great way to [increase the isolation and security of microservices architecture](../../../../../5_MicroServices)<br/>- A microservice, for example, could be deployed in a [totally separate VPC](../../Readme.md), fronted by a [load balancer](../../../2_ApplicationNetworking/ElasticLoadBalancer/Readme.md), and exposed to other microservices through a [Interface Endpoints]() endpoint.<br/>- With this setup, using [Interface Endpoints](), the network traffic to and from the [microservice](../../../../../5_MicroServices) never traverses the public internet. |
| Regulatory Compliance                                                                                                       | One use case for such isolation includes regulatory compliance for services handling sensitive data such as PCI, HIPPA and EU/US Privacy Shield.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [Connect from Private Subnet to Dynamo DB or S3](https://docs.aws.amazon.com/vpc/latest/privatelink/gateway-endpoints.html) | Using the [VPC gateway endpoint](InterfaceVsGatewayEndPoints.md) allows the [EC2 instances](../../../../3_ComputeServices/AmazonEC2/Readme.md) to reach [Amazon S3](../../../../7_StorageServices/3_ObjectStorageS3/Readme.md) without using the public internet. <br/>- Each [subnet route table](../../../../2c_SecurityServices/2_InfraProtectionServices/VPC/RouteTables.md) must have a route that sends traffic destined for the service to the gateway endpoint using the prefix list for the service.                                                                                                                                                                                      |

# EndPoint policy
- An [endpoint policy](https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-access.html) does not override or replace IAM user policies or service-specific policies (such as [S3 bucket policies](../../../../7_StorageServices/3_ObjectStorageS3/Security/BucketPolicy.md)).
- It is a separate policy for controlling access from the endpoint to the specified service.
- For ease of management, it is a best practice to manage permissions using the endpoint policy and then set the [S3 bucket](../../../../7_StorageServices/3_ObjectStorageS3/Readme.md) to only accept connections from the appropriate access point.
- In this case, AWS applies the more restrictive endpoint policy.
- You must manage and maintain only the policies for the endpoint

# VPC Endpoint, Shared Services

![](https://d2908q01vomqb2.cloudfront.net/fc074d501302eb2b93e2554793fcaf50b3bf7291/2020/08/05/VPC-endpoints-3-1024x401.png)

[Read more](https://aws.amazon.com/blogs/architecture/reduce-cost-and-increase-security-with-amazon-vpc-endpoints/)

# References
- [AWS Private Link vs VPC Endpoint](https://stackoverflow.com/questions/66726225/aws-private-link-vs-vpc-endpoint) 