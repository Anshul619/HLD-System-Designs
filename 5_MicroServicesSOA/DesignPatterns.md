# Microservices - Design Patterns

|                                                 | Type                          | Remarks                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| :star: Database per service                     | Data management               | Each service has its [own private database](https://microservices.io/patterns/data/database-per-service.html).<br/>- Each service stores and processes data related to a single business function.                                                                                        |
| :star: Local cache using Redis                  | Data management               | Microservices can cache the data locally in [Redis](../3_DatabaseServices/8_InMemory-Databases/Redis), instead of requesting data from another service everytime.                                                                                                                         |
| Domain Driven Design                            |                               | Classes, modals, services, microservices, rest apis etc. should be designed according to the domains. [Read more](../ArchitecturePatterns/DomainDrivenArchitecture.md)                                                                                                                    |
| Saga                                            | Data management - Consistency | [Saga](/4_MessageBrokersEDA/EventDrivenArchitecture/Saga.md) is a sequence of local transactions.                                                                                                                                                                                         |
| Command Query Responsibility Segregation (CQRS) | Data management               | [CQRS](../4_MessageBrokersEDA/EventDrivenArchitecture/CQRS.md) define a view database, which is a read-only replica that is designed to support that query.                                                                                                                               |
| Event sourcing                                  | Data management               | [Event sourcing](../4_MessageBrokersEDA/EventDrivenArchitecture/EventSourcing.md) persists the state of a business entity such an Order or a Customer as a sequence of state-changing events.                                                                                             |
| Asynchronous Messaging                          | Communication - Style         | In asynchronous messaging, [Message Brokers](../4_MessageBrokersEDA) are used to pass events b/w microservices. [Read more](https://microservices.io/patterns/communication-style/messaging.html)                                                                                         |
| Request/Reply-based protocol                    | Communication - Style         | In request/reply-based protocol, [gRPC](../8_APIProtocols/gRPC.md) or [REST](../8_APIProtocols/REST.md) are used for inter-service communication.                                                                                                                                         |
| Circuit Breaker                                 | Reliability                   | In [circuit breaker](../ArchitecturePatterns/CircuitBreaker.md), a remote service is invoked via a proxy that fails immediately when the failure rate of the remote call exceeds a threshold.                                                                                             |
| API Gateway                                     | Communication - External API  | [API gateway](1_APIGateway/Readme.md) provides each client with unified interface to services. [Read more](https://microservices.io/patterns/apigateway.html)                                                                                                                             |
| Service Registry & discovery                    | Communication                 | The router queries a [service registry](2_ServiceRegistry&Discovery/Readme.md) (a database of service instance locations) to discover the locations of service instances. [Read more](https://microservices.io/patterns/server-side-discovery.html)                                       |
| Logging & monitoring                            | Observability                 | [New Relic](../12_ObservabilityLogsServices/NewRelic/Readme.md), [ELK](../12_ObservabilityLogsServices/ELK.md) etc can be used for logging and observation of microservices. [Read more](https://microservices.io/patterns/observability/application-logging.html)                        |
| Distributed Tracing                             | Observability                 | [New Relic](../12_ObservabilityLogsServices/NewRelic/Readme.md), [AWS AppMesh](../2_AWSServices/1_NetworkingAndContentDelivery/2_ApplicationNetworking/AWSAppMesh.md) can be used as [service mesh](3_ServiceMesh.md) for distributed tracing.                                            |
| Service instance per container                  | Deployment patterns           | Use [Container orchestration service](../9_Container&OrchestrationServices/Readme.md) for container deployments. Example - [Kubernates](../9_Container&OrchestrationServices/Kubernates/Readme.md), [AWS ECS](../2_AWSServices/4_ContainerOrchestrationServices/AmazonECS/Readme.md) etc. |
| Session                                         | Security                      | [Redis](../3_DatabaseServices/8_InMemory-Databases/Redis) can be used to share the session data between microservices.                                                                                                                                                                    |
| Access token                                    | Security                      | The [API Gateway](1_APIGateway/Readme.md) authenticates the request and passes an access token (e.g. JSON Web Token) that securely identifies the requestor in each request to the services. <br/>- A service can include the access token in requests it makes to other services.        |

[Read more](https://microservices.io/patterns/)