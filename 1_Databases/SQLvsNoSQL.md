# SQL vs NoSQL

| Basis                     | [SQL](7_SQL-Databases/Readme.md)                                                                                                                                                                                                                                      | NoSQL                                                                                                                                                                                  |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Data Type                 | Normalized, Structured Data, Referential integrity                                                                                                                                                                                                                    | Denormalized, Semi-structured, Unstructured data                                                                                                                                       |
| Schema                    | :hammer: Fixed Schema (schema-on-write)                                                                                                                                                                                                                               | Dynamic Schema (schema-on-read)                                                                                                                                                        |
| Querying                  | :rocket: Very Powerful                                                                                                                                                                                                                                                | :x: Okay<br/>- Joins are not supported in NoSQL dbs.                                                                                                                                   |
| Write Performance         | Okay.<br/>- Every write is not just an append to a table but also an update to multiple indexes which might require locking and hence might interfere with other reads and other writes.                                                                              | :rocket: Very Good.<br/>- Writes are cheaper due to [LSM-Tree (in-memory writes)](5_Database-Internals/LSMTree.md) & [append-only nature](5_Database-Internals/AppendOnlyProperty.md). |
| Optimization              | :floppy_disk: Optimized for storage                                                                                                                                                                                                                                   | :rocket: Optimized for compute & writes                                                                                                                                                |
| Scalability               | Vertically Scalable, [Single-Leader-Multi-Read-Replicas technique](4_Consistency-Replication/Replication/SingleLeaderReplication.md) or Manual Sharding based on a business parameter.                                                                                | :rocket: [Horizontally Scalable](3_Scalability-Techniques/Readme.md) (through **in-built data sharding technique**)                                                                        |
| Built-in Sharding Support | :x: Not-Supported                                                                                                                                                                                                                                                     | :white_check_mark: Supported                                                                                                                                                           |
| Ideal Use Cases           | Best suited for complex queries, multi-row transactions, joins. <br/>- Data is structured (like e-commerce, :moneybag: financial applications, traditional applications, ERP, CRM  etc.) and also when data reporting is needed.<br/>- OLTP business systems or OLAP. | Best suited for unstructured data or documents (or large volume of data). <br/>- Not ideal for complex queries.<br/>- UCs like Gaming, Analytics, Online Tests, OLTP web/mobile apps.  |
| Properties                | Enables [ACID (atomicity, consistency, isolation, and durability)](1_ACID-Transactions/Readme.md) transaction properties.                                                                                                                                             | Follows [CAP (consistency, availability, partition tolerance)](2_CAP-PACELC-Theorems/CAPTheorem.md) properties of the distributed systems.                                             |
| Consistency Pattern       | [Strongly or Semi-Sync Consistent](4_Consistency-Replication/Readme.md)                                                                                                                                                                                               | [Eventually Consistent](4_Consistency-Replication/Readme.md)                                                                                                                           |
| Powering Data Structure   | [B-Tree](5_Database-Internals/BTree.md)                                                                                                                                                                                                                               | [LSM-Tree](5_Database-Internals/LSMTree.md)                                                                                                                                            |
| Best Features             | Secure, Cross Platform Support, Free                                                                                                                                                                                                                                  | High Performance, Flexible, Easy to use                                                                                                                                                |

# References
- :star: [AWS re:Invent 2021 - Which NoSQL database is right for you?](https://www.youtube.com/watch?v=ivBaro-8PhI)
- :star: [Database Design Tips | Choosing the Best Database in a System Design Interview](https://www.youtube.com/watch?v=cODCpXtPHbQ)
- [AWS re:Invent 2022 - From RDBMS to NoSQL (PRT314)](https://www.youtube.com/watch?v=eEENrNKxCdw)
- [Should Your DynamoDB Table Be Normalized or Denormalized?](https://aws.amazon.com/blogs/database/should-your-dynamodb-table-be-normalized-or-denormalized/)
- [Why PostgreSQL Should Be Your Database Default (And Why Everything Else Is Just Marketing)?](https://bytes.vadeai.com/why-postgresql-should-be-your-database-default-and-why-everything-else-is-just-marketing/)