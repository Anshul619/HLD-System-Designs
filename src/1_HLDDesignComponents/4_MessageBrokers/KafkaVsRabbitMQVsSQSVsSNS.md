
| Basis                                                                | :star: [Kafka](Kafka/Readme.md)                                                                                                                                 | [Kinesis Data Streams](../../2_AWSComponents/10_BigDataComponents/StreamProcessing/AmazonKinesis/Readme.md)                                                       | :star:[Amazon SQS](../../2_AWSComponents/5_MessageBrokerServices/AmazonSQS.md)                                                                                             | [Amazon SNS](../../2_AWSComponents/5_MessageBrokerServices/AmazonSNS.md)                                                                                                           | [Amazon EventBridge](../../2_AWSComponents/5_MessageBrokerServices/AmazonEventBridge.md)                                                                                                          | [RabbitMQ](RabbitMQ.md)                                                                                                                 |
|----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| Event storage structure                                              | :sunglasses: [Logs](../0_SystemGlossaries/Database/AppendOnlyDataStructure.md)                                                                                  | [Logs](../0_SystemGlossaries/Database/AppendOnlyDataStructure.md)                                                                                                 | Queue <br>(Standard or FIFO Queue types)                                                                                                                                   | Topic                                                                                                                                                                              | Event Bus                                                                                                                                                                                         | Queue                                                                                                                                   |
| Strength                                                             | High-Throughput Broker                                                                                                                                          | -                                                                                                                                                                 | Simple Queue Service                                                                                                                                                       | Push-Notification-Based-Broker                                                                                                                                                     | Rule-Based-Targeting-Broker                                                                                                                                                                       | Low-Latency MQ                                                                                                                          |
| [Throughput](../0_SystemGlossaries/Scalability/LatencyThroughput.md) | :rocket: [Up to 1 million messages per second](https://engineering.linkedin.com/kafka/benchmarking-apache-kafka-2-million-writes-second-three-cheap-machines)   | [Up to 1MB/s or 1000 messages/sec at write per shard](https://docs.aws.amazon.com/streams/latest/dev/key-concepts.html)                                                                                                              | [Nearly unlimited or up to 30K messages per second](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/quotas-messages.html) <br/>(Standard queue) | [Up to 30K messages per second](https://docs.aws.amazon.com/general/latest/gr/sns.html) <br/>(Standard topic)                                                                      | [Up to 10K messages per second](https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-quota.html)                                                                                           | [Up to 10K messages per second](https://blog.rabbitmq.com/posts/2012/04/rabbitmq-performance-measurements-part-2)                       |
| [Latency](../0_SystemGlossaries/Scalability/LatencyThroughput.md)    | ~5ms                                                                                                                                                            | -                                                                                                                                                                 | Less than 100 ms                                                                                                                                                           | b/w 100 ms to 200 ms                                                                                                                                                               | Greater than 200ms                                                                                                                                                                                | ~1ms                                                                                                                                    |
| Message Transfer Model                                               | [Pub-Sub](../0_SystemGlossaries/MessageBrokers/MethodsOfMessageTransfer.md#publisher-subscriber-model-pubsub) <br>(Pull Based)                                  | [Pub-Sub](../0_SystemGlossaries/MessageBrokers/MethodsOfMessageTransfer.md#publisher-subscriber-model-pubsub) <br>(Pull Based)<br/>- Typical fan-out of 5x or less. | [Point-2-Point](../0_SystemGlossaries/MessageBrokers/MethodsOfMessageTransfer.md#point-to-point-model-message-queuing) <br>(Pull Based)                                    | [Pub-Sub](../0_SystemGlossaries/MessageBrokers/MethodsOfMessageTransfer.md#publisher-subscriber-model-pubsub) <br>(Push Based, Upto 100K topics, 10 million subscribers per topic) | [Pub-Sub](../0_SystemGlossaries/MessageBrokers/MethodsOfMessageTransfer.md#publisher-subscriber-model-pubsub) <br>(Push Based, Upto 100 event buses, 300 rules per event bus, 5 targets per rule) | [Point-2-Point](../0_SystemGlossaries/MessageBrokers/MethodsOfMessageTransfer.md#point-to-point-model-message-queuing) <br>(Push Based) |
| Use Cases                                                            | [High Throughput / Massive data events streaming](../0_SystemGlossaries/Scalability/LatencyThroughput.md) (like analytics)                                      | -                                                                                                                                                                 | Point-2-Point modeling in [event-driven microservices](../0_SystemGlossaries/MessageBrokers/EventDrivenArchitecture.md).                                                   | Notification (Email/Push) to person, Pub-Sub modeling for [event-driven microservices](../0_SystemGlossaries/MessageBrokers/EventDrivenArchitecture.md).                           | [Rule based targeting in Event-driven microservices](../0_SystemGlossaries/MessageBrokers/EventDrivenArchitecture.md)                                                                             | Low-latency use cases when message guarantee is needed or some consistent behaviour ( like order workflow, failed orders etc. )         |
| Broker/Publisher Type                                                | Dump                                                                                                                                                            | Dump                                                                                                                                                                  | Dump                                                                                                                                                                       | Smart                                                                                                                                                                              | Smart                                                                                                                                                                                             | Smart <br/>(Consistent transmission of messages to consumers at about the same speed as the broker monitors the consumer's status)      |
| Consumer Type                                                        | Smart <br/>(Consumers maintain their own state)                                                                                                                 | Smart <br/>(Consumers maintain their own state)                                                                                                                                                                  | Smart <br/>(Consumers need to be identical & delete message once consumed)                                                                                                 | Dump <br/>(Consumers might be processing messages in the different way)                                                                                                            | Dump<br/>(Consumers might be processing messages in the different way)                                                                                                                            | Dumb                                                                                                                                    |
| Persistence/Lifetime Of Messages                                     | :white_check_mark: Yes <br/>- Messages are retained as much as needed (& can be replayed).                                                                      | :white_check_mark: Yes <br/>- Messages are [retained from 24 hrs to 7 days](https://docs.aws.amazon.com/streams/latest/dev/key-concepts.html). (& can be replayed) | :white_check_mark: Yes, max 14 days. <br>- Once message is consumed, it can be removed by consumer.                                                                        | No <br> - When an SNS Topic receives an event notification, it would be instantly broadcasted to all Subscribers.                                                                  | No <br/>- But events can be archived, to replay later.                                                                                                                                            | No <br/>- Once message is consumed and acknowledgement is sent, it would be removed from RabbitMQ message queue.                        |
| Ordering Of Messages                                                 | :white_check_mark: Supported <br/>(using partition key)                                                                                                         | :white_check_mark: [Supported <br/>(using partition key)](https://docs.aws.amazon.com/streams/latest/dev/key-concepts.html)                                       | :white_check_mark: Supported <br/>(in FIFO SQS Queues)                                                                                                                     | :white_check_mark: Supported (in FIFO SNS Topics)                                                                                                                                  | Not-Supported                                                                                                                                                                                     | Not-Supported                                                                                                                           |
| Prioritizing Messages for consumption                                | Not-Supported                                                                                                                                                   | Not-Supported                                                                                                                                                     | Not-Supported                                                                                                                                                              | Not-Supported                                                                                                                                                                      | Not-Supported                                                                                                                                                                                     | :white_check_mark: Supported                                                                                                            |
| Payload Size                                                         | Upto 1MB size                                                                                                                                                   | Up to 1MB size                                                                                                                                                    | [Up to 256K size](https://docs.aws.amazon.com/general/latest/gr/sqs-service.html)                                                                                          | [Up to 256K size](https://aws.amazon.com/blogs/compute/choosing-between-messaging-services-for-serverless-applications/)                                                           | [Up to 256K size](https://aws.amazon.com/blogs/compute/choosing-between-messaging-services-for-serverless-applications/)                                                                          | No constraints                                                                                                                          |
| Pricing Model                                                        | Open Source <br/>([Amazon MSK](../../2_AWSComponents/5_MessageBrokerServices/AmazonMSK.md) on AWS)                                                              | AWS Managed Service for events streaming.                                                                                                                         | $0.4 / per million API calls <br/>(AWS Managed Service)                                                                                                                    | $0.5 / per million API calls <br/>(AWS Managed Service)                                                                                                                            | $1 / per million API calls <br/>(AWS Managed Service)                                                                                                                                             | Open Source <br/>([Amazon MQ](../../2_AWSComponents/5_MessageBrokerServices/AmazonMQ.md) on AWS)                                        |
| Event Filtering                                                      | -                                                                                                                                                               | -                                                                                                                                                                 | No                                                                                                                                                                         | :white_check_mark: Yes                                                                                                                                                             | :white_check_mark: Yes                                                                                                                                                                            | -                                                                                                                                       |
| Event Transformation                                                 | -                                                                                                                                                               | -                                                                                                                                                                 | No                                                                                                                                                                         | No                                                                                                                                                                                 | :white_check_mark: Yes                                                                                                                                                                            | -                                                                                                                                       |

# References
- [Choosing the right event-routing service for serverless: EventBridge, SNS, or SQS](https://lumigo.io/blog/choosing-the-right-event-routing-on-aws-eventbridge-sns-or-sqs/)
- [Top 5 reasons to use EventBridge instead of SNS](https://lumigo.io/blog/5-reasons-why-you-should-use-eventbridge-instead-of-sns/)
- [Choosing between messaging services for serverless applications](https://aws.amazon.com/blogs/compute/choosing-between-messaging-services-for-serverless-applications/)
- [AWS SQS vs SNS vs Eventbridge – When to Use What?](https://beabetterdev.com/2021/09/10/aws-sqs-vs-sns-vs-eventbridge/)
- [Kinesis vs Kafka: Comparing Two Popular Streaming Analytics Tools](https://www.spec-india.com/blog/kinesis-vs-kafka)
- [Kafka vs Kinesis: How to Choose](https://rockset.com/blog/kafka-vs-kinesis-choosing-the-best-data-streaming-solution/)
- [RabbitMQ vs Kafka - InterviewBit](https://www.interviewbit.com/blog/rabbitmq-vs-kafka/)
- [Benchmarking Apache Kafka and RabbitMQ: Which is the Fastest?](https://www.confluent.io/blog/kafka-fastest-messaging-system/)