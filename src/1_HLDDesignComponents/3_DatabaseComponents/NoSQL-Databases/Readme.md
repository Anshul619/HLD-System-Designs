# How to choose database in the system design?

![img.png](../3_DecideDatabase/assets/DecideDatabase.drawio.png)

[Read more](../3_DecideDatabase/Readme.md)

# NoSQL-DB types

![img.png](assets/NoSQL-DifferentDBtypes.drawio.png)

| Feature              | :star: Key-Value Databases                                                                                                                                                            | Document Databases                                                                                                                                                                                                                      | Wide-Column Databases                                                                                                                                                                                                                         | Graph Databases                                                                                                                                                                                                                                                                                          | Time-Series DB                                                                                                                                            | [In-Memory](../In-Memory-Cache)                                                                                                                                                                               | Ledger                                                                                                                              |
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| Key Strength         | High throughput/low latency reads/writes, endless scale.                                                                                                                              | Mobile, content management, personalization etc.                                                                                                                                                                                        | High number of writes, low reads etc.                                                                                                                                                                                                         | Easily create and navigate relationship between data                                                                                                                                                                                                                                                     | Collect, store and process data sequenced by time                                                                                                         | Query by key with microsecond latency                                                                                                                                                                         | Collect, Immutable and verifiable history of changes to app data                                                                    |
| Use Case             | High-traffic web apps<br/>- Shopping Cart<br/>- Product catalogs<br/>- Gaming applications<br/>- Advertising tech etc.                                                                | Content management, catalogs, user profiles, Mobile Games, IOT etc.                                                                                                                                                                     | High-scale industrial apps for equipment maintenance<br/>- Fleet management<br/>- Route optimization<br/>- [Time Series Data](https://netflixtechblog.com/scaling-time-series-data-storage-part-i-ec2b6d44ba39)<br/>- Historical records etc. | [User Activity Relationship](../../../3_HLDDesignProblems/InstagramDesign/Readme.md)<br/>- Fraud detection<br/>- Social networking<br/>- [Recommendation engines](https://neo4j.com/use-cases/real-time-recommendation-engine/)<br/>- Logistics & spatial data<br/>- Identity and access management etc. | Home screen feed<br/>- Operations monitoring<br/>- Application metrics<br/>- Internet of Things sensor data<br/>- Real-time analytics, Event tracing etc. | Caching<br/>- Session management<br/>- [Gaming leaderboards](https://redis.com/solutions/use-cases/leaderboards/)<br/>- Geospatial applications etc.                                                          | Systems of record<br/>- Supply chain<br/>- Registrations<br/>- Banking transactions etc.                                            |
| Open Source Services | [RocksDB](../NoSQL-Databases/RocksDB.md)                                                                                                                                              | [MongoDB](../NoSQL-Databases/MongoDB/Readme.md), [Amazon DynamoDB](../../../2_AWSComponents/6_DatabaseServices/AmazonDynamoDB/Readme.md), [Elastic Search](../Search-DBs/ElasticSearch), [CouchDB](https://couchdb.apache.org) etc. | [Apache Casandra](../NoSQL-Databases/ApacheCasandra.md)<br/>- [Apache HBase](../NoSQL-Databases/ApacheHBase.md)                                                                                                                               | [Neo4j](../NoSQL-Databases/Neo4j.md).                                                                                                                                                                                                                                                                    | [InfluxDB](https://en.wikipedia.org/wiki/InfluxDB)                                                                                                        | [Redis](../In-Memory-Cache/Redis/Readme.md)                                                                                                                                                                   |                                                                                                                                     |
| AWS Services         | [Amazon DynamoDB](../../../2_AWSComponents/6_DatabaseServices/AmazonDynamoDB/Readme.md)                                                                                               | [Amazon DocumentDB (with MongoDB compatibility)](../../../2_AWSComponents/6_DatabaseServices)                                                                                                                                           | [Amazon Keyspaces (for Apache Cassandra)](../../../2_AWSComponents/6_DatabaseServices/AmazonKeySpaces.md)                                                                                                                                     | [Amazon Neptune](https://aws.amazon.com/neptune/)                                                                                                                                                                                                                                                        | [Amazon Timestream](https://aws.amazon.com/timestream/)                                                                                                   | [Amazon Elastic Cache](../../../2_AWSComponents/6_DatabaseServices/AmazonElasticCache/Readme.md)                                                                                                              | [Amazon Quantum Ledger Database (QLDB)](https://aws.amazon.com/qldb/)                                                               |
| Strength             | Very flexible, predictable performance and cost.<br/>- More than 20 million requests per second <br/>- Less than 10-20 ms latency.<br/>- Able to handle a wide variety of data types. | Data is stored in [JSON-like documents](https://aws.amazon.com/nosql/document/) (complex/nested structure).<br/>- Each document can have an entirely different structure.                                                               |                                                                                                                                                                                                                                               | Allow simple, fast retrieval of complex hierarchical structures<br/>- Great for real-time big data mining<br/>- Can rapidly identify common data points between nodes<br/>- Great for making relevant recommendations and allowing for rapid querying of those relationships.                            |                                                                                                                                                           | Support the most demanding applications requiring sub-millisecond response times<br/>- Great for caching, gaming, and session store<br/>- Adapt to changes in demands by scaling out and in without downtime. | Data that is rapidly changing or is seldom accessed<br/>- Application using the in-memory store has a low tolerance for stale data. |                                                                                          |

# Specific NoSQL DBs

| Database                                                                              | DB Type        | Strength                                                                                                                                                                                   | Pricing Model |
|---------------------------------------------------------------------------------------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| :star: [Elastic Search](../Search-DBs/ElasticSearch/Readme.md) | Document-DB    | Full-Text-Search, Logs-Analysis (ELK), Metrics, Analysis.                                                                                                                                  | Open Source   |
| [Apache Casandra](../NoSQL-Databases/ApacheCasandra.md)                               | Wide-Column-DB | Handle large amount of data, at [low latency](../../0_SystemGlossaries/Scalability/LatencyThroughput.md) (with [eventual consistency](../1_Glossaries/Consistency&Replication/Readme.md))  | Open Source   |
| [Apache HBase](../NoSQL-Databases/ApacheHBase.md)                                     | Wide-Column-DB | Handle large amount of data, at [normal latency](../../0_SystemGlossaries/Scalability/LatencyThroughput.md) (with [strong consistency](../1_Glossaries/Consistency&Replication/Readme.md)) | Open Source   |
| [RocksDB](../NoSQL-Databases/RocksDB.md)                                              | Document-DB    | [Low latency](../../0_SystemGlossaries/Scalability/LatencyThroughput.md), key-value data store for timeline use cases (like newsfeed).                                                     | Open Source   |

# PACLEC Theorem

![img.png](../1_Glossaries/PACELCTheorem/assets/PACELC_Diagram.drawio.png)

[Read more](../1_Glossaries/PACELCTheorem/Readme.md)

# Other Points

| Point                                                             |
|-------------------------------------------------------------------|
| [SQL vs NoSQL](../SQLvsNoSQL.md)                                  |
| [DynamoDB vs Casandra vs MongoDB](DynamoDBVsMongoDBVsCasandra.md) |

# References
- :star: [AWS re:Invent 2021 - Which NoSQL database is right for you?](https://www.youtube.com/watch?v=ivBaro-8PhI)
- :star: [Database Design Tips | Choosing the Best Database in a System Design Interview](https://www.youtube.com/watch?v=cODCpXtPHbQ)
- [Cloud DB Cheat Sheet](https://media.licdn.com/dms/image/D4E22AQGZI2OlimmTuQ/feedshare-shrink_800/0/1696693136128?e=1699488000&v=beta&t=0LhhYelBizt1fhUW897sSuOfMNcAieVkbA67H9q7B6w)