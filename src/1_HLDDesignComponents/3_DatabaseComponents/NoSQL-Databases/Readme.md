# NoSQL-DB types

![img.png](assets/NoSQL-DifferentDBtypes.drawio.png)

| DB Type               | Use Case                                                                                                                                                                                                                                            | Open Source Techs                                                                                                                                                   | AWS Service                                                                                               | Remarks                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Key-Value Databases   | High-traffic web apps, e-commerce systems, gaming applications etc.                                                                                                                                                                                 | [RocksDB](RocksDB.md)                                                                                                                                               | [Amazon DynamoDB](../../../2_AWSComponents/6_DatabaseServices/AmazonDynamoDB/Readme.md)                   | Data is stored in an array of key-value pairs.<br/>- The `key` is an attribute name which is linked to a `value`.                                                                                                                                                                                                                                                                                                                                                     |
| Document Databases    | Content management, catalogs, user profiles, Mobile Games, IOT etc.                                                                                                                                                                                 | [MongoDB](MongoDB), [Elastic Search](../Search-Indexes/ElasticSearch), [CouchDB](https://couchdb.apache.org) etc.                                                   | [Amazon DocumentDB (with MongoDB compatibility)](../../../2_AWSComponents/6_DatabaseServices/Readme.md)   | In these databases, data is stored in [JSON-like documents](https://aws.amazon.com/nosql/document/) (instead of rows and columns in a table) and these documents are grouped together in collections.<br/>- Each document can have an entirely different structure.<br/>- Since JSON document can contain all relevant information at one place (i.e. its self-contained), hence one query would be sufficient to get the data (instead of doing table joins in SQL). |
| Wide-Column Databases | High-scale industrial apps for equipment maintenance, fleet management, and route optimization, [Time Series Data](https://netflixtechblog.com/scaling-time-series-data-storage-part-i-ec2b6d44ba39), Historical records, High-Write, Low-Read etc. | [Apache Casandra](ApacheCasandra.md), [Apache HBase](ApacheHBase.md)                                                                                                | [Amazon Keyspaces (for Apache Cassandra)](../../../2_AWSComponents/6_DatabaseServices/AmazonKeySpaces.md) | Instead of tables, we have column families in column databases, which are containers for rows.<br/>- Each row contains a unique identifier (or set of identifiers) as its primary key and a following set of columns.<br/>- The primary key serves as a partition hash key as data is distributed across the cluster.                                                                                                                                                 |
| Graph Databases       | [User Activity Relationship](../../../3_HLDDesignProblems/InstagramDesign/Readme.md), Fraud detection, social networking, recommendation engines, Logistics & spatial data, Identity and access management  etc.                                    | [Neo4j](Neo4j.md), [Redis Graph](../In-Memory-Cache/Redis/RedisGraph.md)                                                                                            | [Amazon Neptune](https://aws.amazon.com/neptune/)                                                         | These databases are used to store data (which is highly-connected, have many-to-many relationship) whose relations are best represented in a graph (like parent-child relationship of aadhaar etc.)- Data is saved in graph structures with nodes (entities), properties (information about the entities), and lines (connections between the entities).                                                                                                              |
| Time-Series DB        | Home screen feed, operations monitoring, application metrics, Internet of Things sensor data, and real-time analytics etc.                                                                                                                          | [InfluxDB](https://en.wikipedia.org/wiki/InfluxDB) is an open-source time series database (TSDB) developed by the company [InfluxData](https://www.influxdata.com/) | [Amazon Timestream](https://aws.amazon.com/timestream/)                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Ledger                | Systems of record, supply chain, registrations, banking transactions                                                                                                                                                                                | -                                                                                                                                                                   | [Amazon Quantum Ledger Database (QLDB)](https://aws.amazon.com/qldb/)                                     | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| In-Memory             | Caching, session management, gaming leaderboards, geospatial applications etc.                                                                                                                                                                      | [Redis](../In-Memory-Cache/Redis)                                                                                                                                   | [Amazon Elastic Cache](../../../2_AWSComponents/6_DatabaseServices/AmazonElasticCache.md)                 | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

## Document DB JSON

In the following example, a JSON-like document describes a book.
````json
[
    {
        "year" : 2013,
        "title" : "Turn It Down, Or Else!",
        "info" : {
            "directors" : [ "Alice Smith", "Bob Jones"],
            "release_date" : "2013-01-18T00:00:00Z",
            "rating" : 6.2,
            "genres" : ["Comedy", "Drama"],
            "image_url" : "http://ia.media-imdb.com/images/N/O9ERWAU7FS797AJ7LU8HN09AMUP908RLlo5JF90EWR7LJKQ7@@._V1_SX400_.jpg",
            "plot" : "A rock band plays their music at high volumes, annoying the neighbors.",
            "actors" : ["David Matthewman", "Jonathan G. Neff"]
        }
    },
    {
        "year": 2015,
        "title": "The Big New Movie",
        "info": {
            "plot": "Nothing happens at all.",
            "rating": 0
        }
    }
]
````

# NoSQL-DB Comparisons

| Database                                                                                       | Strength                                                                                                                                                                                                          | DB Type          | Pricing Model         |
|------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|-----------------------|
| :star: [Amazon DynamoDB](../../../2_AWSComponents/6_DatabaseServices/AmazonDynamoDB/Readme.md) | Predictable performance and cost. <br/>- More than 20 million requests per second <br/>- Less than 10-20 ms latency                                                                                               | Document-DB      | `AWS Managed Service` |
| :star: [Elastic Search](../Search-Indexes/ElasticSearch)                                       | `Full-Text-Search`, `Logs-Analysis (ELK)`, `Metrics, Analysis`                                                                                                                                                    | Document-DB      | `Open Source`         |
| :star: [Apache Casandra](ApacheCasandra.md)                                                    | Handle large amount of data, at [low latency](../../0_SystemGlossaries/Scalability/LatencyThroughput.md) (with [eventual consistency](../../0_SystemGlossaries/Database/ReplicationAndDataConsistency.md))  | Wide-Column-DB   | `Open Source`         |
| [Apache HBase](ApacheHBase.md)                                                                 | Handle large amount of data, at [normal latency](../../0_SystemGlossaries/Scalability/LatencyThroughput.md) (with [strong consistency](../../0_SystemGlossaries/Database/ReplicationAndDataConsistency.md)) | Wide-Column-DB   | `Open Source`         |
| [MongoDB](MongoDB/Readme.md)                                                                   | -                                                                                                                                                                                                                 | Document-DB      | `Open Source`         |
| [Neo4j](Neo4j.md)                                                                              | -                                                                                                                                                                                                                 | Graph-DB         | `Open Source`         |
| [RocksDB](RocksDB.md)                                                                          | [low latency](../../0_SystemGlossaries/Scalability/LatencyThroughput.md), key-value data store for timeline use cases (like newsfeed).                                                                            | Document-DB      | `Open Source`         |
| :star: [Casandra vs MongoDB](CasandraVsMongoDB.md)                                                                                               |                                                                                                                                                                                                                   |                  |                       |
