# Amazon DynamoDB
- [DynamoDB](https://aws.amazon.com/dynamodb/) is a fully managed [NoSQL](../../../1_HLDDesignComponents/3_DatabaseComponents) database service (a key-value DB service, for fast lookup using primary key).
- Every record in a DynamoDB database can be considered as a map of attributes and values with a primary key to retrieve the record.
- All data items are stored on [Solid State Drives (SSDs)](https://www.techtarget.com/searchstorage/definition/SSD-solid-state-drive), and are replicated across [3 Availability Zones](../../AWS-Global-Architecture-Region-AZ.md) for [high availability](../../../1_HLDDesignComponents/0_SystemGlossaries/Reliability/HighAvailability.md) and [durability](../../../1_HLDDesignComponents/0_SystemGlossaries/Database/Durability.md). 
- With DynamoDB, you can offload the administrative burden of operating and scaling a highly available distributed database cluster, while paying a low price for only what you use.

# :star: Real world use cases of DynamoDB
- [Twillo - Send Message API Design](../../../3_HLDDesignProblems/TwilloSendMessageAPI)

# Key Features

| Feature                                                                                                                                                                                                                         | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Provisioned Throughput                                                                                                                                                                                                          | Dial up or down provisioned read/write capacity.<br/>- When creating a table, simply specify how much request capacity you require? ([OnDemand or specific number](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html#HowItWorks.requests))<br/>- DynamoDB allocates dedicated resources to your table to meet your performance requirements, and automatically partitions data over a sufficient number of servers to meet your request capacity.<br/>- If your throughput requirements change, simply update your table's request capacity using the [AWS Management Console](https://aws.amazon.com/console/) or the [Amazon DynamoDB APIs](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.API.html).<br/>- You are still able to achieve your prior throughput levels while scaling is underway. |
| Fast, predictable performance                                                                                                                                                                                                   | Avg single-digit millisecond latency, 1000s of records per second.<br/>- Over the course of the 66-hour Prime Day, these sources made 16.4 trillion calls to the DynamoDB API, peaking at 80.1 million requests per second.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [Fault tolerant](../../../1_HLDDesignComponents/0_SystemGlossaries/Reliability/FaultTolerance&DisasterRecovery.md), [Highly Available](../../../1_HLDDesignComponents/0_SystemGlossaries/Reliability/HighAvailability.md)       | Data replicated across Availability Zones                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [Partitions and data distribution](PartitionKeyAndSortKey.md)                                                                                                                                                                   | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [DynamoDB Global tables](DynamoDBGlobalTables.md)                                                                                                                                                                               | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [DynamoDB Accelerator (DAX)](DynamoDBAccelerator.md) provides caching capabilities for accessing data.                                                                                                                          | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [PartiQL - a SQL-compatible query language for Amazon DynamoDB](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ql-reference.html)                                                                             | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [Time to Live (TTL) supported for the data](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TTL.html)                                                                                                          | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| JSON Support                                                                                                                                                                                                                    | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Items size up to 400 KB                                                                                                                                                                                                         | -                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Monitoring                                                                                                                                                                                                                      | Integrated with [Cloudwatch](../../8_MonitoringServices/AmazonCloudWatch.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Both [Local & Global Secondary Indexing](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html) supported                                                                                                   | Global secondary indexes in DynamoDB are eventually consistent, and are not guaranteed to return correct results.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Security                                                                                                                                                                                                                        | Data is encrypted by default.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Pricing                                                                                                                                                                                                                         | Pay a low price for only what you use                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Automated Storage Scaling                                                                                                                                                                                                       | There is no limit to the amount of data you can store in a DynamoDB table, and the service automatically allocates more storage, as you store more data using the DynamoDB write APIs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Consistency Models                                                                                                                                                                                                              | [Eventual Consistency Model](../../../1_HLDDesignComponents/0_SystemGlossaries/Database/ReplicationAndDataConsistency.md#consistency-patterns)<br/>- [Strong Consistency Model](../../../1_HLDDesignComponents/0_SystemGlossaries/Database/ReplicationAndDataConsistency.md#consistency-patterns)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Amazon DynamoDB & Dynamo Systems                                                                                                                                                                                                | Amazon DynamoDB is built on the principles of [Dynamo](../../../1_HLDDesignComponents/3_DatabaseComponents/NoSQL-Databases/DynamoStyleDatabases.md) and is a hosted service within the AWS infrastructure.<br/>- However, while [Dynamo](../../../1_HLDDesignComponents/3_DatabaseComponents/NoSQL-Databases/DynamoStyleDatabases.md) is based on [leaderless replication](../../../1_HLDDesignComponents/0_SystemGlossaries/Database/ReplicationAndDataConsistency.md), DynamoDB uses [single-leader replication](../../../1_HLDDesignComponents/0_SystemGlossaries/Database/ReplicationAndDataConsistency.md).|

# Core Components

| Component   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Tables      | Similar to other database systems, DynamoDB stores data in tables. A table is a collection of data. <br/>- For instance, you could have a table called People that you could use to store personal contact information about friends, family, or anyone else of interest. <br/>- You could also have a Cars table to store information about vehicles that people drive.                                                                                                                                   |
| Items       | Each table contains zero or more items. <br/>- An item is a group of attributes that is uniquely identifiable among all the other items. <br/>- In a People table, each item represents a person. <br/>- In a Cars table, each item represents one vehicle. <br/>- Items in DynamoDB are similar in many ways to rows, records, or tuples in other database systems. <br/>- In DynamoDB, there is no limit to the number of items you can store in a table.                                                |
| Attributes  | Each item is composed of one or more attributes. <br/>- An attribute is a fundamental data element, something that does not need to be broken down any further. <br/>- For example, an item in a People table might contain attributes called PersonID, LastName, FirstName, and so on. <br/>- In a Department table, an item might have attributes such as DepartmentID, Name, Manager, and so on.<br/>-  Attributes in DynamoDB are similar in many ways to fields or columns in other database systems. |


# Data types supported in DynamoDB

DynamoDB supports a large set of data types for table attributes. 

| Data Type   | Description                                                                                         |
|-------------|-----------------------------------------------------------------------------------------------------|
| Scalar      | These types represent a single value, and include number, string, binary, Boolean, and null.        |
| Document    | These types represent a complex structure possessing nested attributes, and include lists and maps. |
| Set         | These types represent multiple scalars, and include string sets, number sets, and binary sets.      |

# :thumbsdown: What are disadvantages of DynamoDB?
- Deployable only on AWS and cannot be installed on individual desktops/servers
- No server side scripts
- General disadvantages of NoSQL
  - Querying data is extremely limited
  - Table Joins are impossible
  - No triggers
  - No foreign key concept to refer to other table items

# References
- [Top DynamoDB Interview Questions](https://www.javainuse.com/misc/dynamodb-interview-questions)
- [20 DynamoDB Interview Questions and Answers](https://climbtheladder.com/dynamodb-interview-questions/)
- [What I’ve Learned From Using AWS DynamoDB in Production for More Than 3 Years?](https://medium.com/aws-tip/what-ive-learned-from-using-aws-dynamodb-in-production-for-more-than-3-years-49a077886b5c)