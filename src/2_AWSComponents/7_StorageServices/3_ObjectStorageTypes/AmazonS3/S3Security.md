# Securing Data Access

| Security Mechanism                                                                                                                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [Encryption at rest & in transit](https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-encryption.html)                                                                     | [Amazon S3]() also offers integrations to help prevent breaches by way of PCI-DSS, HIPAA/HITECH, and FedRAMP.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [AWS IAM](../../../2_SecurityAndIdentityServices/1_IdentityServices/AWSIAM/Readme.md)                                                                                                      | IAM is used to create users and manage their respective access to resources, including buckets and objects.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [Bucket IAM policies](https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-bucket-policies.html)                                                                           | Bucket policies are used to configure permissions for all or a subset of objects using tags and prefixes.                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [Pre-Signed URLs](https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html)                                                                               | Pre-Signed URLs are used to grant time-limited access to others with temporary URLs.<br/>- When you share your objects using a presigned URL, the presigned URL works the same for both encrypted and unencrypted objects. <br/>- Additionally, when you list objects in your bucket, the list API returns a list of all objects, regardless of their encryption.                                                                                                                                                                               |
| [Access Control List (ACLs)](https://docs.aws.amazon.com/AmazonS3/latest/userguide/acl-overview.html)                                                                               | Access Control List (ACLs) to make individual objects accessible to authorized users.<br/>- Note: Amazon S3 ACLs are a legacy access control mechanism that predates IAM. <br/>- AWS recommends using Amazon S3 bucket policies or IAM policies for access control.                                                                                                                                                                                                                                                                             |
| [Block Public Access](https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-control-block-public-access.html)                                                                | Block Public Access overrides other S3 access permissions to easily enforce a no-public-access policy.<br/>- Public access policy is available at both AWS account, bucket level.                                                                                                                                                                                                                                                                                                                                                               |
| [Access Points](https://aws.amazon.com/s3/features/access-points/)                                                                                                                  | Access points are named network endpoints that are attached to buckets and are used to perform Amazon S3 object operations, such as GetObject and PutObject.                                                                                                                                                                                                                                                                                                                                                                                    |
| [Protecting Sensitive Data Using Encryption](https://aws.amazon.com/blogs/security/strengthen-the-security-of-sensitive-data-stored-in-amazon-s3-by-using-additional-aws-services/) | To help secure your data within Amazon S3, you should be using [AWS Key Management Service (AWS KMS)](../../../2_SecurityAndIdentityServices/2_DataProtectionServices/AWSKMS.md) with server-side encryption at rest for Amazon S3.                                                                                                                                                                                                                                                                                                             |
| [Controlling ownership of objects and disabling ACLs for your bucket](https://docs.aws.amazon.com/AmazonS3/latest/userguide/about-object-ownership.html)                            | Using Amazon S3 Object Ownership, the bucket owner has full control of the objects and can automatically own any new objects written by other accounts.<br/>- S3 Object Ownership is an Amazon S3 bucket-level setting that you can use to disable access control lists (ACLs) and take ownership of every object in your bucket, simplifying access management for data stored in Amazon S3.                                                                                                                                                   |
| [Hybrid - Use VPC gateway endpoint, for only hybrid/onperm access]()                                                                                                                | An endpoint policy does not override or replace IAM user policies or service-specific policies (such as S3 bucket policies). It is a separate policy for controlling access from the endpoint to the specified service. For ease of management, it is a best practice to manage permissions using the endpoint policy and then set the S3 bucket to only accept connections from the appropriate access point. In this case, AWS applies the more restrictive endpoint policy. You must manage and maintain only the policies for the endpoint. |

# Generating Amazon S3 Pre-signed URLs with SSE (Part 1)

| Algo                                                                                                                                                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| :star: [Server-Side Encryption with Customer Master Keys (CMKs) Stored in AWS Key Management Service (SSE-KMS)](https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingKMSEncryption.html) | When you use server-side encryption with AWS KMS (SSE-KMS), you can specify a customer-managed CMK that you have already created. <br/>- SSE-KMS provides you with an audit trail that shows when your CMK was used and by whom.<br/>- [To delete a CMK in AWS KMS you schedule key deletion](https://docs.aws.amazon.com/kms/latest/developerguide/deleting-keys.html). You can set the waiting period from a minimum of 7 days up to a maximum of 30 days. The default waiting period is 30 days. |
| [Server-Side Encryption with Amazon S3-Managed Keys (SSE-S3)](https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingServerSideEncryption.html)                                            | When you use Server-Side Encryption with Amazon S3-Managed Keys (SSE-S3), each object is encrypted with a unique key.                                                                                                                                                                                                                                                                                                                                                                               |
| [Server-Side Encryption with Customer-Provided Keys (SSE-C)](https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerSideEncryptionCustomerKeys.html)                                      | With Server-Side Encryption with Customer-Provided Keys (SSE-C), you manage the encryption keys and Amazon S3 manages the encryption, as it writes to disks, and decryption when you access your objects. <br/>- However this option does not provide the ability to audit trail the usage of the encryption keys.                                                                                                                                                                                  |

[Read more](https://aws.amazon.com/blogs/developer/generating-amazon-s3-pre-signed-urls-with-sse-part-1/)

# Retention Periods on Objects
- Note - Different versions of a single object can have different retention modes and periods.

| Setting                                                                                                                                               | Description                                                                                                                |
|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
| [Bucket default settings](https://docs.aws.amazon.com/AmazonS3/latest/API/API_DefaultRetention.html)                                                  | A duration, in either days or years, can be specified as retention period of the bucket's objects.                         |
| [Setting on object version explicitly](https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-overview.html#object-lock-retention-periods) | When you apply a retention period to an object version explicitly, you specify a Retain Until Date for the object version. |
